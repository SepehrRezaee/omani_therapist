# ğŸ‡´ğŸ‡² Omani Voice Therapist

**Privacy-First, AI-Powered, Voice-Only Mental Health Chatbot (Omani Arabic)**

---

## ğŸŒŸ Project Overview

Omani Voice Therapist is a privacy-focused, AI-powered web application designed to provide empathetic, culturally relevant mental health support in Omani Arabicâ€”**using only voice**.  
The system enables users to speak naturally via their browser, receive real-time AI-powered therapeutic replies, and never requires text or file uploads.

- **Voice In, Voice Out**: Speak your message, listen to the botâ€™s reply.
- **Omani Arabic**: Culturally tuned prompts and responses.
- **Anonymous & Private**: All data is stored locally unless otherwise configured.
- **NOT a replacement for professional medical advice or emergency services.**

---

## ğŸ§‘â€ğŸ’» Features

- ğŸ¤ **Microphone Input**: Record directly in-browser (Streamlit or Gradio)
- ğŸ—£ï¸ **Speech-to-Text (STT)**: Converts voice to text using Gemini API
- ğŸ’¬ **Empathetic LLM Response**: Replies are generated by Google Gemini LLM, tailored for Omani dialect and empathy
- ğŸ˜Œ **Emotion & Crisis Detection**: Analyzes speech for emotional state and flags possible crises
- ğŸ”Š **Text-to-Speech (TTS)**: Bot replies are sent back as high-quality audio
- ğŸ—ƒï¸ **Session Logging**: Secure, local-only logging of all conversations and metadata
- ğŸ›¡ï¸ **Consent Gate**: User must accept privacy policy and consent for session logging
- ğŸ—ï¸ **Containerized**: Fully dockerized for easy deployment

---

## ğŸš€ Getting Started

### 1. **Clone the Repository**

```bash
git clone https://github.com/SepehrRezaee/omani-voice-therapist.git
cd omani-voice-therapist
````

### 2. **Set Up Environment Variables**

Create a `.env` file in the `backend/` directory (or as needed):

```env
GEMINI_API_KEY=your_gemini_api_key_here
FRONTEND_URL=http://localhost:8501
ALLOWED_ORIGINS=["http://localhost:8501"]
DATA_DIR=data
```

### 3. **Install Python Dependencies**

#### Locally (for development)

```bash
pip install -r requirements.txt
```

#### Or use **Docker Compose** (recommended for production)

```bash
docker compose build
docker compose up
```

* The backend (FastAPI) will be on `http://localhost:8000`
* The frontend (Streamlit) will be on `http://localhost:8501`

---

## ğŸ—‚ï¸ Project Structure

```
omani-voice-therapist/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py              # FastAPI app
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ db.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ speech_utils.py
â”‚   â”œâ”€â”€ therapy_core.py
â”‚   â”œâ”€â”€ .env
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ app.py               # Streamlit UI
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ user_inputs/         # Saved user voice files
â”‚   â”œâ”€â”€ bot_outputs/         # Saved bot replies
â”‚   â””â”€â”€ session_logs.db      # SQLite logs
â”‚
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

---

## ğŸ—ï¸ Deployment with Docker

1. **Build and Run** (from project root):

   ```bash
   docker compose build
   docker compose up
   ```

2. **Access the app:**

   * Frontend: [http://localhost:8501](http://localhost:8501)
   * Backend API: [http://localhost:8000/docs](http://localhost:8000/docs)

---

## ğŸ” Privacy & Security

* All sessions are anonymous and data is stored locally by default.
* **Consent is required** to start any session.
* **No text or voice data is uploaded to any cloud except for inference via Gemini API.**
* *This app is NOT a medical device and does not provide clinical diagnosis or emergency services.*

---

## ğŸ§­ Roadmap & Planned Improvements

* [ ] **Multi-turn conversational UI** (chat bubbles)
* [ ] **WebRTC for true real-time streaming**
* [ ] **Mobile App** (Flutter/React Native)
* [ ] **Optional authentication for personal health logs**
* [ ] **Improved Omani dialect detection and tuning**
* [ ] **Advanced analytics (local only)**
* [ ] **Better offline/edge deployment support**
* [ ] **Customizable crisis escalation logic**

---

## ğŸ§‘â€ğŸ”§ Contributions

PRs, issues, and suggestions are welcome!
Please [open an issue](https://github.com/SepehrRezaee/omani-voice-therapist/issues) or submit a pull request.

---

## ğŸ“§ Contact & Credits

* **Email:** [sepehrrezaee2002@gmail.com](mailto:sepehrrezaee2002@gmail.com)
* **GitHub:** [github.com/SepehrRezaee](https://github.com/SepehrRezaee)
* **LinkedIn:** [linkedin.com/in/sepehr-rezaee](https://linkedin.com/in/sepehr-rezaee)
* **Personal Website:** [SepehrRezaee.com](https://SepehrRezaee.com)

---

## ğŸ“œ License

MIT License. See [LICENSE](LICENSE) for details.

---

**Made with â¤ï¸ for the people of Oman.**

```
